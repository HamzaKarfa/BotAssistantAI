

import Tool from "../interfaces/Tool.js";
import * as Shared from "openai/src/resources/shared";

type VocalToBotArgs = {
    message: any,
}

export default class VocalToBot implements Tool {
    async handle(): Promise<string> {
        return `When user wants to talk to the bot in vocal, he must first connect to a voice channel on the server.
        Use the VocalSearched tool to connect kafbot to the discord voice server allowing it to create a voice recording of the conversation. 
        Once the audio is finished, use the SpeechToText tool to analyze the audio file generated by the first tool. 
        You will need the name of the generated file as well and the path to the file
        When the tool SpeechToText is finished, you will get the text of the conversation and send it to TextToSpeech tool.
        You will directly speech your response in vocal to the user.
        `;
    }

    definition(): Shared.FunctionDefinition{
        return {
            "name": this.constructor.name,
            "description": "Parler avec kafbot en vocal",
            "parameters": {
            }
        }
    }

    getEmbed(args: VocalToBotArgs) {
        return {
            "title": "Parler avec le bot",
            "description": "Je vais venir parler avec toi",
        }
    }
}